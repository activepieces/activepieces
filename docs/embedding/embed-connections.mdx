---
title: "Create Connections"
description: ""
icon: "cards"
---

<Info>
**Requirements:**
* Activepieces version 0.34.5 or higher
* SDK version 0.3.2 or higher
</Info>

<Info>
   "connectionName" is the externalId of the connection (you can get it by hovering the connection name in the connections table).  <br />
   We kept the same parameter name for backward compatibility, anyone upgrading their instance from < 0.35.1, will not face issues in that regard.
</Info>

<Warning>
**Breaking Change**: <br/> If your Activepieces instance version is < 0.45.0 and (you are using the connect method from the embed sdk, and need the connection externalId to be returned after the user creates it OR if you want to reconnect a specific connection with an externalId), you must upgrade your instance to >= 0.45.0
</Warning>

You can use the embedded SDK to create connections.

<Steps>
    <Step title="Initialize the SDK">
        Follow the instructions in the [Embed Builder](./embed-builder).
    </Step>
    <Step title="Call Connect Method">
        After initializing the SDK, you will have access to a property called `activepieces` inside your `window` object. Call its `connect` method to open a new connection dialog as follows.

        ```html
        <script> 
        activepieces.connect({pieceName:'@activepieces/piece-google-sheets'});
        </script>
        ```

        **Connect Parameters:**

        | Parameter Name | Required | Type   | Description                                 |
        | -------------- | -------- | ------ | ------------------------------------------- |
        | pieceName      | ✅      | string | The name of the piece you want to create a connection for.
        | connectionName | ❌      | string | The externalId of the connection (you can get it by hovering the connection name in the connections table), previously it was called `connectionName`
        | newWindow      | ❌      | \{ width?: number, height?: number, top?: number, left?: number \} | If set the connection dialog will be opened in a new window instead of an iframe taking the full page.

        **Connect Result**

        The `connect` method returns a `promise` that resolves to the following:

        ```ts
        {
            connection?: {
                id: string,
                name: string
            }
        }
        ```
        <Info>
        `connection` is undefined if the user closes the dialog and doesn't create a connection.
        </Info>

        Or if the `connectionName` parameter is defined, it could get rejected with an error message telling you why `connectionName` is invalid:
        ```ts
        {
            error:string
        }
        ```
        

        <Info>
          When 'connectionName' is defined:
          If a connection exists with an externalId that matches the `connectionName` parameter, the user will be asked to reconnect the connection. <br/>
          If the connection does not exist, the promise returned will be rejected with an error message telling you why `connectionName` is invalid.
         </Info>

        <Tip>
        You can use the `connections` piece in the builder to retrieve the created connection using its name.
        ![Connections in Builder](/resources/screenshots/connections-piece.png)
        ![Connections in Builder](/resources/screenshots/connections-piece-usage.png)
        </Tip>
    </Step>
</Steps>
